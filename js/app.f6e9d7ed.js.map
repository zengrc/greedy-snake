{"version":3,"file":"js/app.f6e9d7ed.js","mappings":"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","sources":["webpack://greedy-snake/./src/snake/shaders.ts","webpack://greedy-snake/./src/snake/utils.ts","webpack://greedy-snake/./src/snake/Texture.ts","webpack://greedy-snake/./src/snake/Game.ts","webpack://greedy-snake/./src/snake/Point.ts","webpack://greedy-snake/./src/snake/Cube.ts","webpack://greedy-snake/./src/snake/Snake.ts","webpack://greedy-snake/./src/snake/Map.ts","webpack://greedy-snake/./src/snake/Food.ts","webpack://greedy-snake/./src/App.vue?cb76","webpack://greedy-snake/./src/App.vue","webpack://greedy-snake/./src/main.ts","webpack://greedy-snake/webpack/bootstrap","webpack://greedy-snake/webpack/runtime/chunk loaded","webpack://greedy-snake/webpack/runtime/compat get default export","webpack://greedy-snake/webpack/runtime/define property getters","webpack://greedy-snake/webpack/runtime/global","webpack://greedy-snake/webpack/runtime/hasOwnProperty shorthand","webpack://greedy-snake/webpack/runtime/publicPath","webpack://greedy-snake/webpack/runtime/jsonp chunk loading","webpack://greedy-snake/webpack/startup"],"sourcesContent":["export const pointVertSrc = `\n  attribute vec2 a_position;\n  attribute vec4 a_color;\n  attribute float a_size;\n  varying vec4 v_color;\n  uniform mat4 u_projection;\n  void main(void) {\n    gl_Position = u_projection * vec4(a_position, 0, 1.0);\n    gl_PointSize = 1.0 * a_size;\n    v_color = a_color;\n  }\n`;\n\nexport const pointFrgSrc = `\n  precision mediump float;\n  varying vec4 v_color;\n\n  void main() {\n    gl_FragColor = v_color;\n  }\n`;\n\nexport const textureVertSrc = `\n  attribute vec2 a_position;\n  attribute float a_textureIndex;\n  varying float v_textureIndex;\n  attribute vec2 a_texCoord;\n  varying vec2 v_texCoord;\n  uniform mat4 u_projection;\n  void main() {\n    gl_Position = u_projection * vec4(a_position, 0, 1.0);\n    v_textureIndex = a_textureIndex;\n    v_texCoord = a_texCoord; \n  }\n`;\n\nexport const textureFrgSrc = `\n  #define numTextures 8\n  precision mediump float;\n  varying float v_textureIndex;\n  varying vec2 v_texCoord;\n  uniform sampler2D u_textures[numTextures];\n      \n  vec4 getSampleFromArray(sampler2D textures[8], int ndx, vec2 uv) {\n    vec4 color = vec4(uv, 0, 1);\n    for (int i = 0; i < numTextures; ++i) {\n      if (i == ndx) {\n        color = texture2D(u_textures[i], uv);\n      }\n    }\n    return color;\n  }\n      \n  void main() {\n    gl_FragColor = getSampleFromArray(u_textures, int(v_textureIndex + 0.5), v_texCoord);\n  }\n`;\n","/* eslint-disable max-params */\nexport const createShader = (gl: WebGLRenderingContext, type: number, source: string) => {\n  const shader = gl.createShader(type);\n  if (!shader) return;\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    console.error('a error occured compiling shader', gl.getShaderInfoLog(shader));\n    return;\n  }\n\n  return shader;\n};\n\nexport const createProgram = (gl: WebGLRenderingContext, shaders: WebGLShader[]) => {\n  const program = gl.createProgram();\n  if (!program) return null;\n  shaders.forEach((shader) => gl.attachShader(program, shader));\n  gl.linkProgram(program);\n\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.error('a error occured linking program ', gl.getProgramInfoLog(program));\n    return null;\n  }\n\n  gl.useProgram(program);\n  return program;\n};\n\nexport const setAttribute = (\n  gl: WebGLRenderingContext,\n  program: WebGLProgram,\n  data: number[],\n  attribute: string,\n  dataSize = 2,\n  type?: number,\n  isInt?: boolean,\n) => {\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.bufferData(gl.ARRAY_BUFFER, isInt ? new Uint8Array(data) : new Float32Array(data), type || gl.STATIC_DRAW);\n  // 获取顶点属性的在着色器中的索引，并激活它\n  const aVertexPositionLocation = gl.getAttribLocation(program, attribute);\n  gl.enableVertexAttribArray(aVertexPositionLocation);\n  // 设置顶点属性如何从顶点缓冲对象中取值。每次从数组缓冲对象中读取2个值\n  gl.vertexAttribPointer(aVertexPositionLocation, dataSize, isInt ? gl.UNSIGNED_BYTE : gl.FLOAT, false, 0, 0);\n};\n\nexport const setUniformMat = (\n  gl: WebGLRenderingContext,\n  program: WebGLProgram,\n  mat: number[],\n  uniform: string,\n) => {\n  const uLocation = gl.getUniformLocation(program, uniform);\n  gl.uniformMatrix4fv(uLocation, false, mat);\n};\n\nexport const createProjectionMat = (left: number, right: number, top: number, bottom: number) => {\n  // 坐标变换矩阵\n  return [\n    2 / (right - left),\n    0,\n    0,\n    0,\n    0,\n    2 / (top - bottom),\n    0,\n    0,\n    0,\n    0,\n    2,\n    0,\n    -(right + left) / (right - left),\n    -(top + bottom) / (top - bottom),\n    -1,\n    1,\n  ];\n};\n\nexport const createScaleMat = (scale: number | number[]): number[] => {\n  // 缩放矩阵\n  if (typeof scale === 'object') {\n    const [scaleX, scaleY] = scale;\n    return [scaleX, 0, 0, 0, 0, scaleY, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n  return [scale, 0, 0, 0, 0, scale, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n};\n\nexport const createRotateMat = (rotate: number) => {\n  // 旋转矩阵\n  rotate = (rotate * Math.PI) / 180;\n  const cos = Math.cos(rotate);\n  const sin = Math.sin(rotate);\n  return [cos, sin, 0, 0, -sin, cos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n};\n\nexport const createTranslateMat = (tx: number, ty: number) => {\n  // 平移矩阵\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, 0, 1];\n};\n","export interface TextureConfig {\n  link: string,\n  img: HTMLImageElement,\n  textureID: number,\n  texture?: WebGLTexture | null\n}\n\nexport default class Texture {\n  private textureMap: Record<string, TextureConfig> = {}\n  private gl: WebGLRenderingContext | null = null\n\n  constructor(gl: WebGLRenderingContext | null) {\n    this.gl = gl;\n  }\n\n  getTexture(name: string) {\n    return this.textureMap[name];\n  }\n\n  generateWebglTexture(textureConfig: TextureConfig) {\n    if (!this.gl) return null;\n    this.gl.activeTexture(this.gl.TEXTURE0 + textureConfig.textureID);\n    const texture = this.gl.createTexture();\n    if (!texture) return null;\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n    this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, textureConfig.img);\n\n    return texture;\n  }\n\n  createTexture(name: string, link: string) {\n    if (this.textureMap[name]) return;\n    this.textureMap[name] = {\n      link,\n      img: new Image(),\n      textureID: Object.keys(this.textureMap).length\n    }\n    return new Promise(resolve => {\n      this.textureMap[name].img.onload = () => {\n        const texture = this.generateWebglTexture(this.textureMap[name]);\n        this.textureMap[name].texture = texture;\n        resolve(this.textureMap[name]);\n      }\n      this.textureMap[name].img.src = link;\n    })\n  }\n}","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { pointVertSrc, pointFrgSrc, textureFrgSrc, textureVertSrc } from './shaders';\nimport { createProgram, createShader, createProjectionMat, setUniformMat, setAttribute } from './utils'\nimport Texture from './Texture';\n\nexport class GameItem {\n  private type: 'point' | 'cube'\n  x: number\n  y: number\n  width: number\n  height: number\n  texture?: string\n  rotate?: number\n  scale = 1\n  translateX = 0\n  translateY = 0\n  red = 0.5\n  blue = 0.5\n  green = 0.5\n  alpha = 1\n\n  constructor(type: 'point' | 'cube', x = 0, y = 0, width = 0, height = 0) {\n    this.type = type;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  isPoint() {\n    return this.type === 'point';\n  }\n\n  isTexture() {\n    return this.type === 'cube' && !!this.texture;\n  }\n}\n\nexport abstract class GameObject {\n  abstract items: GameItem[]\n  children: GameObject[] = []\n\n  add(obj: GameObject) {\n    this.children.push(obj);\n  }\n\n  remove(obj: GameObject) {\n    const index = this.children.indexOf(obj);\n    if (index > -1) return this.children.splice(index, 1);\n  }\n}\n\nexport default class Game {\n  canvas: HTMLCanvasElement\n  width = 0\n  height = 0\n  container: HTMLElement | null = null\n  gl: WebGLRenderingContext | null = null\n  children: GameObject[] = []\n  pointProgram: WebGLProgram | null = null\n  textureProgram: WebGLProgram | null = null\n  projectionMat: number[] = [];\n  texture: Texture;\n\n  constructor(root: HTMLElement | string) {\n    if (typeof root === 'string') {\n      this.container = document.querySelector(root);\n    } else {\n      this.container = root;\n    }\n\n    this.canvas = document.createElement('canvas');\n    this.gl = this.canvas.getContext('webgl');\n    this.texture = new Texture(this.gl);\n\n    if (!this.gl) return;\n\n    if (this.container) {\n      this.container.appendChild(this.canvas);\n      this.canvas.width = this.container.clientWidth;\n      this.canvas.height = this.container.clientHeight;\n      this.canvas.style.width = '100%';\n      this.canvas.style.height = '100%';\n      this.width = this.canvas.width;\n      this.height = this.canvas.height;\n      this.projectionMat = createProjectionMat(0, this.canvas.width, 0, this.canvas.height);\n      this.gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    }\n  }\n\n  private clearCanvas() {\n    if (!this.gl) return;\n    this.gl.clearColor(0, 0, 0, 1);\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n  }\n\n  private switchPointProgram() {\n    if (!this.gl) return;\n    if (!this.pointProgram) {\n      const vertexShader = createShader(this.gl, this.gl.VERTEX_SHADER, pointVertSrc);\n      const frgShader = createShader(this.gl, this.gl.FRAGMENT_SHADER, pointFrgSrc);\n      if (!vertexShader || !frgShader) return;\n      this.pointProgram = createProgram(this.gl, [vertexShader, frgShader]);\n      if (!this.pointProgram) return;\n      setUniformMat(this.gl, this.pointProgram, this.projectionMat, 'u_projection');\n    }\n    if (!this.pointProgram) return;\n    this.gl.useProgram(this.pointProgram);\n  }\n\n  private switchTextureProgram() {\n    if (!this.gl) return;\n    if (!this.textureProgram) {\n      const vertexShader = createShader(this.gl, this.gl.VERTEX_SHADER, textureVertSrc);\n      const frgShader = createShader(this.gl, this.gl.FRAGMENT_SHADER, textureFrgSrc);\n      if (!vertexShader || !frgShader) return;\n      this.textureProgram = createProgram(this.gl, [vertexShader, frgShader]);\n      if (!this.textureProgram) return;\n      setUniformMat(this.gl, this.textureProgram, this.projectionMat, 'u_projection');\n      const textureLoc = this.gl.getUniformLocation(this.textureProgram, \"u_textures\");\n      this.gl.uniform1iv(textureLoc, [0, 1, 2, 3, 4]);\n    }\n    if (!this.textureProgram) return;\n    this.gl.useProgram(this.textureProgram);\n  }\n\n  private getPos(item: GameItem) {\n    if (item.isPoint()) {\n      // point shader没有translate mat 直接反应在pos上\n      return [item.x + item.translateX, item.y + item.translateY];\n    } else if (item.isTexture()) {\n      // 简单操作，理论上平移应该用矩阵实现\n      const centerX = item.x + item.translateX;\n      const centerY = item.y + item.translateY;\n      const left = centerX - item.width / 2;\n      const right = centerX + item.width / 2;\n      const top = centerY - item.height / 2;\n      const down = centerY + item.height / 2;\n      return [\n        left, top, right, top, left, down,\n        left, down, right, down, right, top\n      ];\n    }\n    return [item.x, item.y];\n  }\n\n  private drawPoints(points: GameItem[]) {\n    if (!this.gl) return;\n    this.switchPointProgram();\n    if (!this.pointProgram) return;\n\n    const pointPos: number[] = [];\n    const pointColor: number[] = [];\n    const pointSize: number[] = [];\n\n    points.forEach(point => {\n      pointPos.splice(pointPos.length, 0, ...this.getPos(point));\n      pointColor.splice(pointColor.length, 0, point.red, point.green, point.blue, point.alpha);\n      pointSize.push(point.scale);\n    })\n\n    setAttribute(this.gl!, this.pointProgram!, pointPos, 'a_position');\n    setAttribute(this.gl!, this.pointProgram!, pointSize, 'a_size', 1);\n    setAttribute(this.gl!, this.pointProgram!, pointColor, 'a_color', 4);\n\n    this.gl.drawArrays(this.gl.POINTS, 0, points.length)\n  }\n\n  private drawTexture(cubes: GameItem[]) {\n    if (!this.gl) return;\n    this.switchTextureProgram();\n    if (!this.textureProgram) return;\n\n    const pointPos: number[] = [];\n    const textureIdx: number[] = [];\n    const coorPos: number[] = [];\n\n    cubes.forEach(cube => {\n      pointPos.splice(pointPos.length, 0, ...this.getPos(cube));\n      // 两个三角形 六个点\n      const textureConfig = this.texture.getTexture(cube.texture!);\n      textureIdx.push(textureConfig.textureID);\n      textureIdx.push(textureConfig.textureID);\n      textureIdx.push(textureConfig.textureID);\n      textureIdx.push(textureConfig.textureID);\n      textureIdx.push(textureConfig.textureID);\n      textureIdx.push(textureConfig.textureID);\n\n      coorPos.splice(coorPos.length, 0, ...[0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0])\n    })\n\n    setAttribute(this.gl, this.textureProgram, pointPos, 'a_position');\n    setAttribute(this.gl, this.textureProgram, textureIdx, 'a_textureIndex', 1, this.gl.STATIC_DRAW, true);\n    setAttribute(this.gl, this.textureProgram, coorPos, 'a_texCoord');\n\n    this.gl.drawArrays(this.gl.TRIANGLES, 0, cubes.length * 2 * 3);\n  }\n\n  init() {\n    this.clearCanvas();\n  }\n\n  walk(objs: GameObject[]) {\n    const pointArr: GameItem[] = [];\n    const textureArr: GameItem[] = [];\n    objs.forEach(obj => {\n      obj.items.forEach(i => {\n        if (i.isPoint()) pointArr.push(i);\n        else if (i.isTexture()) textureArr.push(i);\n      });\n      if (obj.children && obj.children.length) {\n        const { points, textures } = this.walk(obj.children);\n        pointArr.splice(pointArr.length, 0, ...points);\n        textureArr.splice(textureArr.length, 0, ...textures);\n      }\n    })\n    return {\n      points: pointArr,\n      textures: textureArr\n    }\n  }\n\n  render() {\n    this.clearCanvas();\n    const { points, textures } = this.walk(this.children);\n    if (points.length) this.drawPoints(points);\n    if (textures.length) this.drawTexture(textures);\n  }\n\n  add(obj: GameObject) {\n    this.children.push(obj);\n  }\n\n  remove(obj: GameObject) {\n    const index = this.children.indexOf(obj);\n    if (index > -1) return this.children.splice(index, 1);\n  }\n}","import Game, { GameItem } from './Game';\nimport Map, { CELL_TYPE } from './Map';\n\nexport default class Point extends GameItem {\n  red = 0.5;\n  green = 0.5;\n  blue = 0.5;\n  static CellSize = 30;\n  scale = 5;\n  rowIdx: number;\n  colIdx: number;\n  game: Game;\n  map: Map;\n\n  get cellType() {\n    return this.map.getCellType(this.rowIdx, this.colIdx);\n  }\n\n  constructor(game: Game, map: Map, rowIdx: number, colIdx: number, type = CELL_TYPE.EMPTY) {\n    super('point', Point.CellSize * colIdx + Point.CellSize / 2, Point.CellSize * rowIdx + Point.CellSize / 2);\n    this.rowIdx = rowIdx;\n    this.colIdx = colIdx;\n    this.game = game;\n    this.map = map;\n    this.map.updateCellType(this.rowIdx, this.colIdx, type);\n  }\n\n  updatePoint(point: Point) {\n    this.scale = point.scale;\n    this.colIdx = point.colIdx;\n    this.rowIdx = point.rowIdx;\n    this.x = point.x;\n    this.y = point.y;\n    this.translateX = point.translateX;\n    this.translateY = point.translateY;\n    this.texture = point.texture;\n  }\n}","import Game, { GameItem } from './Game';\nimport Map, { CELL_TYPE } from './Map';\n\nexport default class Cube extends GameItem {\n  red = 0.5;\n  green = 0.5;\n  blue = 0.5;\n  static CellSize = 30;\n  scale = 1;\n  width = 20;\n  height = 20;\n  rowIdx: number;\n  colIdx: number;\n  game: Game;\n  map: Map;\n\n  get cellType() {\n    return this.map.getCellType(this.rowIdx, this.colIdx);\n  }\n\n  constructor(game: Game, map: Map, rowIdx: number, colIdx: number, type = CELL_TYPE.EMPTY, texture = '') {\n    super('cube', Cube.CellSize * colIdx + Cube.CellSize / 2, Cube.CellSize * rowIdx + Cube.CellSize / 2);\n    this.rowIdx = rowIdx;\n    this.colIdx = colIdx;\n    this.game = game;\n    this.map = map;\n    this.map.updateCellType(this.rowIdx, this.colIdx, type);\n    this.texture = texture;\n  }\n\n  updatePoint(cube: Cube) {\n    this.colIdx = cube.colIdx;\n    this.rowIdx = cube.rowIdx;\n    this.x = cube.x;\n    this.y = cube.y;\n    this.translateX = cube.translateX;\n    this.translateY = cube.translateY;\n    this.width = cube.width;\n    this.height = cube.height;\n  }\n}","import Game, { GameObject } from './Game';\nimport Map, { CELL_TYPE } from './Map';\nimport Foods from './Food';\n\nimport Cube from './Cube';\n\nexport enum DIRECTION {\n  LEFT = -1,\n  RIGHT = 1,\n  UP = -2,\n  DOWN = 2,\n}\n\nclass SnakePoint extends Cube {\n  constructor(game: Game, map: Map, rowIdx: number, colIdx: number) {\n    super(game, map, rowIdx, colIdx, CELL_TYPE.SNAKE, 'logo');\n  }\n}\n\nexport default class Snake extends GameObject {\n  items: SnakePoint[] = [];\n  map: Map;\n  game: Game;\n  foods: Foods;\n  onGameOver = () => { /* */ }\n  private direction: DIRECTION = DIRECTION.RIGHT;\n  private _direction: DIRECTION = DIRECTION.RIGHT;\n\n  constructor(game: Game, map: Map, foods: Foods) {\n    super();\n    this.map = map;\n    this.game = game;\n    this.foods = foods;\n    this.reset();\n  }\n\n  reset() {\n    this.items = [\n      new SnakePoint(this.game, this.map, 2, 1),\n      new SnakePoint(this.game, this.map, 2, 2),\n      new SnakePoint(this.game, this.map, 2, 3)\n    ];\n    this.direction = this._direction = DIRECTION.RIGHT;\n    this.registerListeners();\n  }\n\n  changeDirection(direction: DIRECTION) {\n    if ((direction + this._direction) === 0) return; // 不能调转方向\n    this.direction = direction;\n  }\n\n  private snakeMove(rowIdx: number, colIdx: number) {\n    const cellType = this.map.getCellType(rowIdx, colIdx);\n    const newItem = new SnakePoint(this.game, this.map, rowIdx, colIdx);\n    if (cellType === CELL_TYPE.SNAKE) {\n      this.onGameOver();\n      return;\n    }\n    // 每个点往前挪\n    this.map.updateCellType(this.items[0].rowIdx, this.items[0].colIdx, CELL_TYPE.EMPTY);\n    this.items.forEach((item, index) => {\n      const nextIdx = index + 1;\n      if (nextIdx < this.items.length) {\n        item.updatePoint(this.items[nextIdx]);\n      } else {\n        item.updatePoint(newItem);\n      }\n    });\n    this.map.updateCellType(newItem.rowIdx, newItem.colIdx, CELL_TYPE.SNAKE);\n    if (cellType === CELL_TYPE.FOOD) {\n      // 吃到食物变成，队首插一个新元素，颜色和食物相同\n      const foodItem = this.foods.eat(newItem);\n      if (foodItem) {\n        const newTailItem = new SnakePoint(this.game, this.map, foodItem.rowIdx, foodItem.colIdx);\n        // 变色并加到末尾\n        newTailItem.texture = foodItem.texture;\n        this.items.unshift(newTailItem);\n      }\n      return;\n    }\n  }\n\n  private moveRight() {\n    const lastItem = this.items[this.items.length - 1];\n    const newCol = (lastItem.colIdx + 1) % this.map.col;\n    this.snakeMove(lastItem.rowIdx, newCol)\n  }\n\n  private moveLeft() {\n    const lastItem = this.items[this.items.length - 1];\n    const newCol = (lastItem.colIdx - 1 + this.map.col) % this.map.col;\n    this.snakeMove(lastItem.rowIdx, newCol)\n  }\n  \n  private moveUp() {\n    const lastItem = this.items[this.items.length - 1];\n    const newRow = (lastItem.rowIdx - 1 + this.map.row) % this.map.row;\n    this.snakeMove(newRow, lastItem.colIdx)\n  }\n\n  private moveDown() {\n    const lastItem = this.items[this.items.length - 1];\n    const newRow = (lastItem.rowIdx + 1) % this.map.row;\n    this.snakeMove(newRow, lastItem.colIdx)\n  }\n\n  move() {\n    if (!this.items.length) return;\n    // 真正move的时候才更新，防止手速过快的用户点击\n    this._direction = this.direction;\n    switch(this.direction) {\n      case DIRECTION.RIGHT:\n        this.moveRight()\n        break;\n      case DIRECTION.LEFT:\n        this.moveLeft();\n        break;\n      case DIRECTION.UP:\n        this.moveUp();\n        break;\n      case DIRECTION.DOWN:\n        this.moveDown();\n        break;\n      default:\n        break;\n    }\n  }\n\n  snakeMoveListener(event: KeyboardEvent) {\n    const { code } = event;\n    switch(code) {\n      case 'ArrowUp':\n        this.changeDirection(DIRECTION.UP);\n        break;\n      case 'ArrowRight':\n        this.changeDirection(DIRECTION.RIGHT);\n        break;\n      case 'ArrowLeft':\n        this.changeDirection(DIRECTION.LEFT);\n        break;\n      case 'ArrowDown':\n        this.changeDirection(DIRECTION.DOWN);\n        break;\n    }\n  }\n\n  removeListeners() {\n    document.body.removeEventListener('keydown', this.snakeMoveListener.bind(this));\n  }\n\n  registerListeners() {\n    this.removeListeners();\n    document.body.addEventListener('keydown', this.snakeMoveListener.bind(this))\n  }\n}","import Game, { GameObject } from './Game';\nimport Point from './Point';\nimport Snake from './Snake';\nimport Foods from './Food';\n\nexport enum CELL_TYPE {\n  SNAKE = 1,\n  FOOD = 2,\n  EMPTY = 0,\n}\n\nexport default class Map extends GameObject {\n  items: Point[] = [];\n  col: number;\n  row: number;\n  game: Game;\n  snake: Snake;\n  foods: Foods;\n  private cellTypeMap: Record<string, CELL_TYPE> = {};\n\n  get emptyCells() {\n    return Object.keys(this.cellTypeMap).filter(key => !this.cellTypeMap[key]).map(key => key.split(','));\n  }\n\n  constructor(game: Game) {\n    super();\n    this.col = Math.floor(game.width / Point.CellSize);\n    this.row = Math.floor(game.height / Point.CellSize);\n    this.game = game;\n    this.reset();\n  }\n\n  hasEmptyCell() {\n    return this.emptyCells.length < this.row * this.col;\n  }\n\n  updateCellType(rowIdx: number, colIdx: number, type: CELL_TYPE) {\n    this.cellTypeMap[`${rowIdx},${colIdx}`] = type;\n  }\n\n  getCellType(rowIdx: number, colIdx: number) {\n    return this.cellTypeMap[`${rowIdx},${colIdx}`] || CELL_TYPE.EMPTY;\n  }\n\n  update() {\n    this.snake.move();\n    this.foods.createFood();\n  }\n\n  reset() {\n    for (let i = 0; i < this.row; i += 1) {\n      for (let j = 0; j < this.col; j += 1) {\n        this.items.push(new Point(this.game, this, i, j));\n      }\n    }\n    this.foods = new Foods(this.game, this);\n    this.snake = new Snake(this.game, this, this.foods);\n    this.children = [this.snake, this.foods];\n  }\n}","import Game, { GameObject } from './Game';\nimport Map, { CELL_TYPE } from './Map';\n\nimport Cube from './Cube';\n\nfunction getRandomInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nclass FoodPoint extends Cube {\n  width = 15;\n  height = 15;\n\n  constructor(game: Game, map: Map, rowIdx: number, colIdx: number) {\n    const foodID = getRandomInt(1, 4);\n\n    super(game, map, rowIdx, colIdx, CELL_TYPE.FOOD, `food${foodID}`);\n  }\n}\n\nexport default class Foods extends GameObject {\n  items: FoodPoint[] = [];\n  map: Map;\n  game: Game;\n  private maxCount = 3;\n\n  constructor(game: Game, map: Map) {\n    super();\n    this.game = game;\n    this.map = map;\n  }\n\n  createFood() {\n    if (this.items.length >= this.maxCount) return;\n    const emptyCells = this.map.emptyCells;\n    if (!emptyCells.length) return;\n    const [newRowIdx, newColIdx] = emptyCells[getRandomInt(0, emptyCells.length - 1)];\n    const newFood = new FoodPoint(this.game, this.map, +newRowIdx, +newColIdx);\n    this.items.push(newFood);\n  }\n\n  eat(point: Cube) {\n    const index = this.items.indexOf(this.items.filter(item => item.rowIdx === point.rowIdx && item.colIdx === point.colIdx)[0]);\n    if (index > -1) {\n      const deleteItem = this.items.splice(index, 1)[0];\n      return deleteItem;\n    }\n  }\n\n  reset() {\n    this.items = [];\n  }\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-476e2acb\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { id: \"playground\" }, null, -1))\n\nimport Game from '@/snake/Game';\nimport Map from '@/snake/Map';\nimport { onMounted } from 'vue';\n\nenum GAME_STATUS {\n  PENDING,\n  GAME_OVER,\n  PLAYING\n}\n\nconst TIME_GAP = 300;\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\n/* eslint-disable @typescript-eslint/no-var-requires */\nlet timer = 0;\nlet render = () => { /* */ }\nlet reset = () => { /* */ }\nlet gameStatus = GAME_STATUS.PENDING;\n\nconst startGame = () => {\n  if (gameStatus === GAME_STATUS.PENDING) {\n    clearInterval(timer);\n    if (!render) return;\n    timer = setInterval(() => {\n      render();\n    }, TIME_GAP);\n  } else if (gameStatus === GAME_STATUS.GAME_OVER) {\n    reset();\n    timer = setInterval(() => {\n      render();\n    }, TIME_GAP);\n  }\n}\n\nonMounted(async () => {\n  const game = new Game('#playground');\n  await game.texture.createTexture('logo', require('./assets/logo.png'));\n  await game.texture.createTexture('food1', require('./assets/food_1.png'));\n  await game.texture.createTexture('food2', require('./assets/food_2.png'));\n  await game.texture.createTexture('food3', require('./assets/food_3.png'));\n  await game.texture.createTexture('food4', require('./assets/food_4.png'));\n  game.init();\n  const map = new Map(game);\n  map.snake.onGameOver = () => {\n    alert('game over!!')\n    clearInterval(timer);\n    gameStatus = GAME_STATUS.GAME_OVER;\n  }\n  game.add(map);\n  game.render();\n  render = () => {\n    map.update();\n    game.render();\n  }\n  reset = () => {\n    map.reset();\n    game.render();\n  }\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: \"btn\",\n      onClick: startGame\n    }, \" start \"),\n    _hoisted_1\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=476e2acb&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-476e2acb\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/greedy-snake/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgreedy_snake\"] = self[\"webpackChunkgreedy_snake\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1479); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["pointVertSrc","pointFrgSrc","textureVertSrc","textureFrgSrc","createShader","gl","type","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","error","getShaderInfoLog","createProgram","shaders","program","forEach","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","getProgramInfoLog","setAttribute","data","attribute","dataSize","isInt","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Uint8Array","Float32Array","STATIC_DRAW","aVertexPositionLocation","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","UNSIGNED_BYTE","FLOAT","setUniformMat","mat","uniform","uLocation","getUniformLocation","uniformMatrix4fv","createProjectionMat","left","right","top","bottom","Texture","constructor","_defineProperty","this","getTexture","name","textureMap","generateWebglTexture","textureConfig","activeTexture","TEXTURE0","textureID","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","texImage2D","RGBA","img","link","Image","Object","keys","length","Promise","resolve","onload","src","GameItem","x","y","width","height","isPoint","isTexture","GameObject","add","obj","children","push","remove","index","indexOf","splice","Game","root","container","document","querySelector","canvas","createElement","getContext","appendChild","clientWidth","clientHeight","style","projectionMat","viewport","clearCanvas","clearColor","clear","COLOR_BUFFER_BIT","switchPointProgram","pointProgram","vertexShader","VERTEX_SHADER","frgShader","FRAGMENT_SHADER","switchTextureProgram","textureProgram","textureLoc","uniform1iv","getPos","item","translateX","translateY","centerX","centerY","down","drawPoints","points","pointPos","pointColor","pointSize","point","red","green","blue","alpha","scale","drawArrays","POINTS","drawTexture","cubes","textureIdx","coorPos","cube","TRIANGLES","init","walk","objs","pointArr","textureArr","items","i","textures","render","Point","cellType","map","getCellType","rowIdx","colIdx","game","CELL_TYPE","EMPTY","super","CellSize","updateCellType","updatePoint","Cube","DIRECTION","SnakePoint","SNAKE","Snake","foods","RIGHT","reset","direction","_direction","registerListeners","changeDirection","snakeMove","newItem","nextIdx","FOOD","foodItem","eat","newTailItem","unshift","onGameOver","moveRight","lastItem","newCol","col","moveLeft","moveUp","newRow","row","moveDown","move","LEFT","UP","DOWN","snakeMoveListener","event","code","removeListeners","body","removeEventListener","bind","addEventListener","getRandomInt","min","max","Math","floor","random","FoodPoint","foodID","Foods","createFood","maxCount","emptyCells","newRowIdx","newColIdx","newFood","filter","deleteItem","Map","cellTypeMap","key","split","hasEmptyCell","update","snake","j","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","id","GAME_STATUS","TIME_GAP","_defineComponent","__name","setup","__props","timer","gameStatus","PENDING","startGame","clearInterval","setInterval","GAME_OVER","onMounted","async","require","alert","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","class","onClick","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}